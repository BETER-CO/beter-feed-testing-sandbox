version: '3.7'

name: "bfts"

services:
  kafka:
    extends:
      file: docker-compose.yml
      service: kafka
    ports:
      - "${BFTS_KAFKA_PORT:-9092}:9092"
      - "${BFTS_KAFKA_JMX_PORT:-9101}:9101"

  init-kafka:
    extends:
      file: docker-compose.yml
      service: init-kafka
    depends_on:
      kafka:
        condition: service_healthy

  kafka-ui:
    extends:
      file: docker-compose.yml
      service: kafka-ui
    depends_on:
      kafka:
        condition: service_healthy

networks:
  feed-testing-sandbox:
    driver: bridge

volumes:
  kafka-broker-data:
